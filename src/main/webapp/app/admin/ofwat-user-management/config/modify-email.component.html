<main id="content" role="main" tabindex="-1">
    <div *ngIf="user">
        <h1 class="heading-large">Change {{login}} email</h1>
        <div class="grid-row">
            <div class="column-full">
                <jhi-alert></jhi-alert>
                <div class="error-summary" role="alert" aria-labelledby="error-summary" *ngIf="error">
                    <strong>Registration change failed.</strong> Please try again later.
                </div>

                <div class="error-summary" role="alert" aria-labelledby="error-summary" *ngIf="errorEmailExists">
                    <strong>Email is already in use!</strong> Please choose another one.
                </div>
            </div>
            <div class="column-full">
                <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">

                    <div class="form-group">
                        <label class="form-control-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email" #email="ngModel" placeholder=""
                               [(ngModel)]="user.email" minlength=5 maxlength=100 required>
                        <div *ngIf="email.dirty && email.invalid">
                            <small class="form-text text-danger" *ngIf="email.errors.required"
                            >
                                Your email is required.
                            </small>
                            <small class="form-text text-danger" *ngIf="email.errors.invalid"
                            >
                                Your email is invalid.
                            </small>
                            <small class="form-text text-danger" *ngIf="email.errors.minlength"
                            >
                                Your email is required to be at least 5 characters.
                            </small>
                            <small class="form-text text-danger" *ngIf="email.errors.maxlength"
                            >
                                Your email cannot be longer than 100 characters.
                            </small>
                        </div>
                    </div>
                    <div class="page-footer">
                        <button type="submit" [disabled]="editForm.form.invalid || isSaving" class="button" value="Save">Save</button>
                        <button type="button" class="page-footer-back-link" [routerLink]="['/ofwat-user-management/'+ user.login]">Back to your profile</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>
